doctype html
head
    title='Signup Page'
    link(rel='stylesheet', href='/public/stylesheets/style.css')

h1='Signup below!'
a(href='/login') If you already have an account, login here!
#signup
    form(action='javascript:signup()', method='GET')
        p(class="invisible" style="color: indianred;" id="error") Error
        p
            | username:
            input(id='username', value='', type='text')
            | password:
            input(id='password', value='', type='password')
            input(type='submit', value='Submit')

script.
    async function signup(){
        const info = await fetch('http://localhost:3000/api/signup', {
            method: 'GET',
            headers: {
                username: document.getElementById('username').value,
                password: document.getElementById('password').value
            }
        });
        const json = await info.json();
        if(json.error){
            const errorText = document.getElementById('error');
            errorText.classList.remove('invisible');
            errorText.classList.add('visible');
            errorText.innerHTML = json.error;
        } else {
            console.log("NO ERROR")
            location.replace('/');
        }
    }